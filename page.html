<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>canvg.js callback test</title>
    <script type="text/javascript">
        require('canvg');
    </script>
    <script type="text/javascript">
        var ipcRenderer = require('electron').ipcRenderer;
        ipcRenderer.on('svg', function (event, code, width, height) {
            var canvas = document.getElementById('canvas');
            if(width){
                canvas.width = width;
                canvas.height = height;
                canvg('canvas', code, {ignoreDimensions: true, scaleWidth: width, scaleHeight: height});
            }else{
                canvg('canvas', code);
            }
            ipcRenderer.send('svg', canvas.toDataURL());
        });
    </script>
</head>
<body>
<div id="container"><canvas id="canvas"></canvas></div>
</body>
</html>
